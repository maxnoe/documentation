"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4834],{15680:(e,r,n)=>{n.d(r,{xA:()=>g,yg:()=>u});var l=n(96540);function t(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function o(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);r&&(l=l.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,l)}return n}function a(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?o(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function i(e,r){if(null==e)return{};var n,l,t=function(e,r){if(null==e)return{};var n,l,t={},o=Object.keys(e);for(l=0;l<o.length;l++)n=o[l],r.indexOf(n)>=0||(t[n]=e[n]);return t}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(l=0;l<o.length;l++)n=o[l],r.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}var s=l.createContext({}),p=function(e){var r=l.useContext(s),n=r;return e&&(n="function"==typeof e?e(r):a(a({},r),e)),n},g=function(e){var r=p(e.components);return l.createElement(s.Provider,{value:r},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var r=e.children;return l.createElement(l.Fragment,{},r)}},y=l.forwardRef((function(e,r){var n=e.components,t=e.mdxType,o=e.originalType,s=e.parentName,g=i(e,["components","mdxType","originalType","parentName"]),d=p(n),y=t,u=d["".concat(s,".").concat(y)]||d[y]||c[y]||o;return n?l.createElement(u,a(a({ref:r},g),{},{components:n})):l.createElement(u,a({ref:r},g))}));function u(e,r){var n=arguments,t=r&&r.mdxType;if("string"==typeof e||t){var o=n.length,a=new Array(o);a[0]=y;var i={};for(var s in r)hasOwnProperty.call(r,s)&&(i[s]=r[s]);i.originalType=e,i[d]="string"==typeof e?e:t,a[1]=i;for(var p=2;p<o;p++)a[p]=n[p];return l.createElement.apply(null,a)}return l.createElement.apply(null,n)}y.displayName="MDXCreateElement"},96446:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>g,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>d});var l=n(58168),t=n(98587),o=(n(96540),n(15680)),a=["components"],i={title:"ReplicaClient"},s=void 0,p={unversionedId:"client_api/replicaclient",id:"client_api/replicaclient",title:"ReplicaClient",description:"quarantine\\_replicas",source:"@site/../docs/client_api/replicaclient.md",sourceDirName:"client_api",slug:"/client_api/replicaclient",permalink:"/documentation/client_api/replicaclient",draft:!1,editUrl:"https://github.com/rucio/documentation/tree/main/docs/../docs/client_api/replicaclient.md",tags:[],version:"current",frontMatter:{title:"ReplicaClient"},sidebar:"docs",previous:{title:"PingClient",permalink:"/documentation/client_api/pingclient"},next:{title:"RequestClient",permalink:"/documentation/client_api/requestclient"}},g={},d=[{value:"quarantine_replicas",id:"quarantine_replicas",level:2},{value:"declare_bad_file_replicas",id:"declare_bad_file_replicas",level:2},{value:"declare_bad_did_replicas",id:"declare_bad_did_replicas",level:2},{value:"declare_suspicious_file_replicas",id:"declare_suspicious_file_replicas",level:2},{value:"get_did_from_pfns",id:"get_did_from_pfns",level:2},{value:"list_replicas",id:"list_replicas",level:2},{value:"list_suspicious_replicas",id:"list_suspicious_replicas",level:2},{value:"add_replica",id:"add_replica",level:2},{value:"add_replicas",id:"add_replicas",level:2},{value:"delete_replicas",id:"delete_replicas",level:2},{value:"update_replicas_states",id:"update_replicas_states",level:2},{value:"list_dataset_replicas",id:"list_dataset_replicas",level:2},{value:"list_dataset_replicas_bulk",id:"list_dataset_replicas_bulk",level:2},{value:"list_dataset_replicas_vp",id:"list_dataset_replicas_vp",level:2},{value:"list_datasets_per_rse",id:"list_datasets_per_rse",level:2},{value:"add_bad_pfns",id:"add_bad_pfns",level:2},{value:"set_tombstone",id:"set_tombstone",level:2}],c={toc:d},y="wrapper";function u(e){var r=e.components,n=(0,t.A)(e,a);return(0,o.yg)(y,(0,l.A)({},c,n,{components:r,mdxType:"MDXLayout"}),(0,o.yg)("h2",{id:"quarantine_replicas"},"quarantine","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Add quaratined replicas for RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"replicas"),": List of replica infos: {'scope': \\<scope",">"," (optional), 'name': \\<name",">"," (optional), 'path':\\<path",">"," (required)}."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": RSE name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse_id"),": RSE id. Either RSE name or RSE id must be specified, but not both")))))),(0,o.yg)("h2",{id:"declare_bad_file_replicas"},"declare","_","bad","_","file","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Declare a list of bad replicas."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"replicas"),": Either a list of PFNs (string) or a list of dicts {'scope': \\<scope",">",", 'name': \\<name",">",", 'rse_id': \\<rse_id",">"," or 'rse': \\<rse_name",">","}"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"force"),": boolean, tell the serrver to ignore existing replica status in the bad_replicas table. Default: False"))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,'  Dictionary {"rse_name": ','["did: error",...]',"} - list of strings for DIDs failed to declare, by RSE")))))),(0,o.yg)("h2",{id:"declare_bad_did_replicas"},"declare","_","bad","_","did","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Declare a list of bad replicas."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": The RSE where the bad replicas reside"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"dids"),": The DIDs of the bad replicas"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,o.yg)("h2",{id:"declare_suspicious_file_replicas"},"declare","_","suspicious","_","file","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Declare a list of bad replicas."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,o.yg)("h2",{id:"get_did_from_pfns"},"get","_","did","_","from","_","pfns"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Get the DIDs associated to a PFN on one given RSE"),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": The RSE name."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  A list of dictionaries {pfn: {'scope': scope, 'name': name}}")))))),(0,o.yg)("h2",{id:"list_replicas"},"list","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List file replicas for a list of data identifiers (DIDs)."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"dids"),": The list of data identifiers (DIDs) like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"schemes"),": A list of schemes to filter the replicas. (e.g. file, http, ...)"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"ignore_availability"),": Also include replicas from blocked RSEs into the list"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"metalink"),": ",(0,o.yg)("inlineCode",{parentName:"p"},"False")," (default) retrieves as JSON,\n",(0,o.yg)("inlineCode",{parentName:"p"},"True")," retrieves as metalink4+xml."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"client_location"),": Client location dictionary for PFN modification {'ip', 'fqdn', 'site', 'latitude', 'longitude'}"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"sort"),": Sort the replicas: ",(0,o.yg)("inlineCode",{parentName:"p"},"geoip")," - based on src/dst IP topographical distance\n",(0,o.yg)("inlineCode",{parentName:"p"},"closeness")," - based on src/dst closeness\n",(0,o.yg)("inlineCode",{parentName:"p"},"dynamic")," - Rucio Dynamic Smart Sort (tm)"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"domain"),": Define the domain. None is fallback to 'wan', otherwise 'wan, 'lan', or 'all'"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"signature_lifetime"),": If supported, in seconds, restrict the lifetime of the signed PFN."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"nrandom"),": pick N random replicas. If the initial number of replicas is smaller than N, returns all replicas."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"resolve_archives"),": When set to True, find archives which contain the replicas."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"resolve_parents"),": When set to True, find all parent datasets which contain the replicas."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"updated_after"),": epoch timestamp or datetime object (UTC time), only return replicas updated after this time"))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  A list of dictionaries with replica information.")))))),(0,o.yg)("h2",{id:"list_suspicious_replicas"},"list","_","suspicious","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List file replicas tagged as suspicious."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"younger_than"),": Datetime object to select the replicas which were declared since younger_than date. Default value = 10 days ago."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"nattempts"),": The minimum number of replica appearances in the bad_replica DB table from younger_than date. Default value = 0."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"state"),": State of the replica, either 'BAD' or 'SUSPICIOUS'. No value returns replicas with either state.")))))),(0,o.yg)("h2",{id:"add_replica"},"add","_","replica"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Add file replicas to a RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"scope"),": The scope of the file."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"name"),": The name of the file."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"bytes_"),": The size in bytes."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"adler32"),": adler32 checksum."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"pfn"),": PFN of the file for non deterministic RSE."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"md5"),": md5 checksum."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"meta"),": Metadata attributes."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  True if files were created successfully.")))))),(0,o.yg)("h2",{id:"add_replicas"},"add","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Bulk add file replicas to a RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklsit."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  True if files were created successfully.")))))),(0,o.yg)("h2",{id:"delete_replicas"},"delete","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Bulk delete file replicas from a RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklist."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  True if files have been deleted successfully.")))))),(0,o.yg)("h2",{id:"update_replicas_states"},"update","_","replicas","_","states"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Bulk update the file replicas states from a RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">",", 'state': \\<state1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">",", 'state': \\<state2",">","}, ...]",",\nwhere a state value can be either of:\n'A' (AVAILABLE)\n'U' (UNAVAILABLE)\n'C' (COPYING)\n'B' (BEING_DELETED)\n'D' (BAD)\n'T' (TEMPORARY_UNAVAILABLE)"))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  True if replica states have been updated successfully, otherwise an exception is raised.")))))),(0,o.yg)("h2",{id:"list_dataset_replicas"},"list","_","dataset","_","replicas"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List dataset replicas for a did (scope:name)."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  A list of dict dataset replicas.")))))),(0,o.yg)("h2",{id:"list_dataset_replicas_bulk"},"list","_","dataset","_","replicas","_","bulk"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List dataset replicas for a did (scope:name)."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"dids"),": The list of DIDs of the datasets."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  A list of dict dataset replicas.")))))),(0,o.yg)("h2",{id:"list_dataset_replicas_vp"},"list","_","dataset","_","replicas","_","vp"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List dataset replicas for a DID (scope:name) using the"),(0,o.yg)("p",null,"Virtual Placement service."),(0,o.yg)("p",null,"NOTICE: This is an RnD function and might change or go away at any time."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  If VP exists a list of dicts of sites")))))),(0,o.yg)("h2",{id:"list_datasets_per_rse"},"list","_","datasets","_","per","_","rse"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"List datasets at a RSE."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"rse"),": the rse name."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"filters"),": dictionary of attributes by which the results should be filtered."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"limit"),": limit number."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  A list of dict dataset replicas.")))))),(0,o.yg)("h2",{id:"add_bad_pfns"},"add","_","bad","_","pfns"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Declare a list of bad replicas."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"state"),": The state of the replica. Either BAD, SUSPICIOUS, TEMPORARY_UNAVAILABLE"),(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"expires_at"),": Specify a timeout for the TEMPORARY_UNAVAILABLE replicas. None for BAD files."))),(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Returns"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,"  True if PFNs were created successfully.")))))),(0,o.yg)("h2",{id:"set_tombstone"},"set","_","tombstone"),(0,o.yg)("span",{style:{"white-space":"pre"}},(0,o.yg)("p",null,"Set a tombstone on a list of replicas."),(0,o.yg)("table",{style:{border:"none"}},(0,o.yg)("tbody",null,(0,o.yg)("tr",{style:{border:"none"}},(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("strong",{parentName:"p"},"Arguments"),":")),(0,o.yg)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.yg)("p",null,(0,o.yg)("inlineCode",{parentName:"p"},"replicas"),": list of replicas.")))))))}u.isMDXComponent=!0}}]);
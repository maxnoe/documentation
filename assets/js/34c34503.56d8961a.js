"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6747],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>b});var n=r(67294);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r,n,l={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(l[r]=e[r]);return l}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},d=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},c="mdxType",k={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,l=e.mdxType,o=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),c=p(r),u=l,b=c["".concat(s,".").concat(u)]||c[u]||k[u]||o;return r?n.createElement(b,a(a({ref:t},d),{},{components:r})):n.createElement(b,a({ref:t},d))}));function b(e,t){var r=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var o=r.length,a=new Array(o);a[0]=u;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[c]="string"==typeof e?e:l,a[1]=i;for(var p=2;p<o;p++)a[p]=r[p];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},97574:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>b,frontMatter:()=>i,metadata:()=>p,toc:()=>c});var n=r(87462),l=r(63366),o=(r(67294),r(3905)),a=["components"],i={title:"ReplicaClient"},s=void 0,p={unversionedId:"client_api/replicaclient",id:"client_api/replicaclient",title:"ReplicaClient",description:"quarantine\\_replicas",source:"@site/../docs/client_api/replicaclient.md",sourceDirName:"client_api",slug:"/client_api/replicaclient",permalink:"/documentation/client_api/replicaclient",draft:!1,editUrl:"https://github.com/rucio/documentation/tree/main/docs/../docs/client_api/replicaclient.md",tags:[],version:"current",frontMatter:{title:"ReplicaClient"},sidebar:"docs",previous:{title:"PingClient",permalink:"/documentation/client_api/pingclient"},next:{title:"RequestClient",permalink:"/documentation/client_api/requestclient"}},d={},c=[{value:"quarantine_replicas",id:"quarantine_replicas",level:2},{value:"declare_bad_file_replicas",id:"declare_bad_file_replicas",level:2},{value:"declare_bad_did_replicas",id:"declare_bad_did_replicas",level:2},{value:"declare_suspicious_file_replicas",id:"declare_suspicious_file_replicas",level:2},{value:"get_did_from_pfns",id:"get_did_from_pfns",level:2},{value:"list_replicas",id:"list_replicas",level:2},{value:"list_suspicious_replicas",id:"list_suspicious_replicas",level:2},{value:"add_replica",id:"add_replica",level:2},{value:"add_replicas",id:"add_replicas",level:2},{value:"delete_replicas",id:"delete_replicas",level:2},{value:"update_replicas_states",id:"update_replicas_states",level:2},{value:"list_dataset_replicas",id:"list_dataset_replicas",level:2},{value:"list_dataset_replicas_bulk",id:"list_dataset_replicas_bulk",level:2},{value:"list_dataset_replicas_vp",id:"list_dataset_replicas_vp",level:2},{value:"list_datasets_per_rse",id:"list_datasets_per_rse",level:2},{value:"add_bad_pfns",id:"add_bad_pfns",level:2},{value:"set_tombstone",id:"set_tombstone",level:2}],k={toc:c},u="wrapper";function b(e){var t=e.components,r=(0,l.Z)(e,a);return(0,o.kt)(u,(0,n.Z)({},k,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"quarantine_replicas"},"quarantine","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Add quaratined replicas for RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"replicas"),": List of replica infos: {'scope': \\<scope",">"," (optional), 'name': \\<name",">"," (optional), 'path':\\<path",">"," (required)}."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": RSE name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse_id"),": RSE id. Either RSE name or RSE id must be specified, but not both")))))),(0,o.kt)("h2",{id:"declare_bad_file_replicas"},"declare","_","bad","_","file","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Declare a list of bad replicas."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"replicas"),": Either a list of PFNs (string) or a list of dicts {'scope': \\<scope",">",", 'name': \\<name",">",", 'rse_id': \\<rse_id",">"," or 'rse': \\<rse_name",">","}"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"force"),": boolean, tell the serrver to ignore existing replica status in the bad_replicas table. Default: False"))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,'  Dictionary {"rse_name": ','["did: error",...]',"} - list of strings for DIDs failed to declare, by RSE")))))),(0,o.kt)("h2",{id:"declare_bad_did_replicas"},"declare","_","bad","_","did","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Declare a list of bad replicas."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": The RSE where the bad replicas reside"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"dids"),": The DIDs of the bad replicas"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,o.kt)("h2",{id:"declare_suspicious_file_replicas"},"declare","_","suspicious","_","file","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Declare a list of bad replicas."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss.")))))),(0,o.kt)("h2",{id:"get_did_from_pfns"},"get","_","did","_","from","_","pfns"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Get the DIDs associated to a PFN on one given RSE"),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": The RSE name."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  A list of dictionaries {pfn: {'scope': scope, 'name': name}}")))))),(0,o.kt)("h2",{id:"list_replicas"},"list","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List file replicas for a list of data identifiers (DIDs)."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"dids"),": The list of data identifiers (DIDs) like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"schemes"),": A list of schemes to filter the replicas. (e.g. file, http, ...)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Also include replicas from blocked RSEs into the list"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"metalink"),": ",(0,o.kt)("inlineCode",{parentName:"p"},"False")," (default) retrieves as JSON,\n",(0,o.kt)("inlineCode",{parentName:"p"},"True")," retrieves as metalink4+xml."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"client_location"),": Client location dictionary for PFN modification {'ip', 'fqdn', 'site', 'latitude', 'longitude'}"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"sort"),": Sort the replicas: ",(0,o.kt)("inlineCode",{parentName:"p"},"geoip")," - based on src/dst IP topographical distance\n",(0,o.kt)("inlineCode",{parentName:"p"},"closeness")," - based on src/dst closeness\n",(0,o.kt)("inlineCode",{parentName:"p"},"dynamic")," - Rucio Dynamic Smart Sort (tm)"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"domain"),": Define the domain. None is fallback to 'wan', otherwise 'wan, 'lan', or 'all'"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"signature_lifetime"),": If supported, in seconds, restrict the lifetime of the signed PFN."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"nrandom"),": pick N random replicas. If the initial number of replicas is smaller than N, returns all replicas."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"resolve_archives"),": When set to True, find archives which contain the replicas."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"resolve_parents"),": When set to True, find all parent datasets which contain the replicas."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"updated_after"),": epoch timestamp or datetime object (UTC time), only return replicas updated after this time"))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  A list of dictionaries with replica information.")))))),(0,o.kt)("h2",{id:"list_suspicious_replicas"},"list","_","suspicious","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List file replicas tagged as suspicious."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse_expression"),": The RSE expression to restrict replicas on a set of RSEs."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"younger_than"),": Datetime object to select the replicas which were declared since younger_than date. Default value = 10 days ago."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"nattempts"),": The minimum number of replica appearances in the bad_replica DB table from younger_than date. Default value = 0."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"state"),": State of the replica, either 'BAD' or 'SUSPICIOUS'. No value returns replicas with either state.")))))),(0,o.kt)("h2",{id:"add_replica"},"add","_","replica"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Add file replicas to a RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the file."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"name"),": The name of the file."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"bytes_"),": The size in bytes."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"adler32"),": adler32 checksum."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"pfn"),": PFN of the file for non deterministic RSE."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"md5"),": md5 checksum."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"meta"),": Metadata attributes."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  True if files were created successfully.")))))),(0,o.kt)("h2",{id:"add_replicas"},"add","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Bulk add file replicas to a RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklsit."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  True if files were created successfully.")))))),(0,o.kt)("h2",{id:"delete_replicas"},"delete","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Bulk delete file replicas from a RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">","}, ...]"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"ignore_availability"),": Ignore the RSE blocklist."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  True if files have been deleted successfully.")))))),(0,o.kt)("h2",{id:"update_replicas_states"},"update","_","replicas","_","states"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Bulk update the file replicas states from a RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": the RSE name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"files"),": The list of files. This is a list of DIDs like :\n","[{'scope': \\<scope1",">",", 'name': \\<name1",">",", 'state': \\<state1",">","}, {'scope': \\<scope2",">",", 'name': \\<name2",">",", 'state': \\<state2",">","}, ...]",",\nwhere a state value can be either of:\n'A' (AVAILABLE)\n'U' (UNAVAILABLE)\n'C' (COPYING)\n'B' (BEING_DELETED)\n'D' (BAD)\n'T' (TEMPORARY_UNAVAILABLE)"))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  True if replica states have been updated successfully, otherwise an exception is raised.")))))),(0,o.kt)("h2",{id:"list_dataset_replicas"},"list","_","dataset","_","replicas"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List dataset replicas for a did (scope:name)."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,o.kt)("h2",{id:"list_dataset_replicas_bulk"},"list","_","dataset","_","replicas","_","bulk"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List dataset replicas for a did (scope:name)."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"dids"),": The list of DIDs of the datasets."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,o.kt)("h2",{id:"list_dataset_replicas_vp"},"list","_","dataset","_","replicas","_","vp"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List dataset replicas for a DID (scope:name) using the"),(0,o.kt)("p",null,"Virtual Placement service."),(0,o.kt)("p",null,"NOTICE: This is an RnD function and might change or go away at any time."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"scope"),": The scope of the dataset."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"name"),": The name of the dataset."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"deep"),": Lookup at the file level."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  If VP exists a list of dicts of sites")))))),(0,o.kt)("h2",{id:"list_datasets_per_rse"},"list","_","datasets","_","per","_","rse"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"List datasets at a RSE."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"rse"),": the rse name."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"filters"),": dictionary of attributes by which the results should be filtered."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"limit"),": limit number."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  A list of dict dataset replicas.")))))),(0,o.kt)("h2",{id:"add_bad_pfns"},"add","_","bad","_","pfns"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Declare a list of bad replicas."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"pfns"),": The list of PFNs."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"reason"),": The reason of the loss."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"state"),": The state of the replica. Either BAD, SUSPICIOUS, TEMPORARY_UNAVAILABLE"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"expires_at"),": Specify a timeout for the TEMPORARY_UNAVAILABLE replicas. None for BAD files."))),(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Returns"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,"  True if PFNs were created successfully.")))))),(0,o.kt)("h2",{id:"set_tombstone"},"set","_","tombstone"),(0,o.kt)("span",{style:{"white-space":"pre"}},(0,o.kt)("p",null,"Set a tombstone on a list of replicas."),(0,o.kt)("table",{style:{border:"none"}},(0,o.kt)("tbody",null,(0,o.kt)("tr",{style:{border:"none"}},(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments"),":")),(0,o.kt)("td",{style:{border:"none",backgroundColor:"var(--ifm-background-color)",verticalAlign:"top"}},(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"replicas"),": list of replicas.")))))))}b.isMDXComponent=!0}}]);